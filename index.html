
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Organizador de Tarefas</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    :root {
      --bg-light: #f1f5f9;
      --bg-dark: #0f172a;
      --card-light: #ffffff;
      --card-dark: #1e293b;
      --text-light: #1e293b;
      --text-dark: #f8fafc;
      --primary: #2563eb;
      --primary-hover: #1d4ed8;
      --accent: #e0f2fe;
      --accent-hover: #bae6fd;
      color-scheme: light dark;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      background: var(--bg-light);
      color: var(--text-light);
      transition: background 0.3s, color 0.3s;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 30px 15px;
    }

    @media (prefers-color-scheme: dark) {
      body {
        background: var(--bg-dark);
        color: var(--text-dark);
      }

      .coluna {
        background: var(--card-dark);
        border-color: #334155;
      }

      input, .tarefa, .tarefas {
        background-color: #1e293b;
        color: var(--text-dark);
      }

      .tarefa.concluida {
        background: #065f46;
      }

      .tarefa span {
        color: var(--text-dark);
      }

      .icone-acoes i {
        color: #cbd5e1;
      }

      .icone-acoes i:hover {
        color: #ffffff;
      }

      input.checkbox {
        accent-color: #38bdf8;
      }
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 5px;
      text-align: center;
    }

    #data-hoje {
      font-size: 1rem;
      opacity: 0.8;
      margin-bottom: 25px;
      text-align: center;
    }

    .container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      width: 100%;
      max-width: 1600px;
    }

    .coluna {
      background: var(--card-light);
      border: 2px solid #e2e8f0;
      border-radius: 16px;
      padding: 20px;
      width: 100%;
      max-width: 320px;
      display: flex;
      flex-direction: column;
      min-height: 300px;
      transition: all 0.3s;
    }

    .titulo {
      font-weight: bold;
      font-size: 1.3rem;
      margin-bottom: 10px;
      text-align: center;
    }

    .titulo-editavel {
      font-size: 1.2rem;
      font-weight: 600;
      border: none;
      text-align: center;
      background: transparent;
      margin-bottom: 10px;
      color: var(--text-light);
    }

    .titulo-editavel:focus {
      outline: 2px solid var(--primary);
      border-radius: 6px;
      background: #f0f9ff;
    }

    .tarefas {
      flex-grow: 1;
      border: 2px dashed #cbd5e1;
      padding: 10px;
      border-radius: 12px;
      background: #f8fafc;
      transition: background 0.3s;
    }

    .tarefa {
      background: var(--accent);
      padding: 10px 14px;
      margin: 6px 0;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      transition: 0.2s ease;
      cursor: grab;
    }

    .tarefa:hover {
      background: var(--accent-hover);
      transform: scale(1.01);
    }

    .tarefa.concluida {
      background: #d1fae5;
      text-decoration: line-through;
      color: #065f46;
    }

    .tarefa span {
      color: var(--text-light);
    }

    .checkbox {
      margin-right: 10px;
    }

    .icone-acoes {
      display: flex;
      gap: 8px;
    }

    .icone-acoes i {
      cursor: pointer;
      font-size: 1.1rem;
      color: #4b5563;
    }

    .icone-acoes i:hover {
      color: #1e293b;
    }

    #novaTarefa {
      margin-top: 30px;
      padding: 12px;
      font-size: 1rem;
      border: 1px solid #94a3b8;
      border-radius: 10px;
      width: 100%;
      max-width: 500px;
    }

    #novaTarefa:focus {
      outline: 2px solid var(--primary);
    }

    .botao-adicionar {
      background: var(--primary);
      color: white;
      padding: 12px 24px;
      font-size: 1rem;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      margin-top: 15px;
      transition: background 0.3s;
    }

    .botao-adicionar:hover {
      background: var(--primary-hover);
    }

    @media (max-width: 768px) {
      .coluna {
        max-width: 100%;
      }
    }
  </style>
</head>
<body>
  <h1>Organizador de Tarefas</h1>
  <div id="data-hoje"></div>
  <div class="container">
    <div class="coluna">
      <div class="titulo">Tarefas Pendentes</div>
      <div id="pendentes" class="tarefas" ondragover="event.preventDefault()" ondrop="soltarTarefa(event, 'pendentes')"></div>
    </div>
    <div class="coluna">
      <input type="text" id="nome1" class="titulo-editavel" value="Pessoa 1" onchange="salvarNomes()" />
      <div id="pessoa1" class="tarefas" ondragover="event.preventDefault()" ondrop="soltarTarefa(event, 'pessoa1')"></div>
    </div>
    <div class="coluna">
      <input type="text" id="nome2" class="titulo-editavel" value="Pessoa 2" onchange="salvarNomes()" />
      <div id="pessoa2" class="tarefas" ondragover="event.preventDefault()" ondrop="soltarTarefa(event, 'pessoa2')"></div>
    </div>
    <div class="coluna">
      <div class="titulo">Tarefas Conclu√≠das</div>
      <div id="concluidas" class="tarefas" ondragover="event.preventDefault()" ondrop="soltarTarefa(event, 'concluidas')"></div>
    </div>
  </div>
  <input type="text" id="novaTarefa" placeholder="Digite uma nova tarefa...">
  <button class="botao-adicionar" onclick="adicionarTarefa()">Adicionar Tarefa</button>

  <script>
    const colunas = ["pendentes", "pessoa1", "pessoa2", "concluidas"];
    let tarefaAtual = null;

    document.getElementById("data-hoje").innerText = new Date().toLocaleDateString("pt-BR", {
      weekday: 'long', year: 'numeric', month: 'long', day: 'numeric'
    });

    document.getElementById("novaTarefa").addEventListener("keypress", function(e) {
      if (e.key === "Enter") adicionarTarefa();
    });

    function adicionarTarefa() {
      const texto = document.getElementById("novaTarefa").value.trim();
      if (!texto || tarefaExiste(texto)) return;
      const nova = criarElementoTarefa(texto);
      document.getElementById("pendentes").appendChild(nova);
      document.getElementById("novaTarefa").value = "";
      salvarTarefas();
    }

    function tarefaExiste(texto) {
      return Array.from(document.querySelectorAll(".tarefa span")).some(el => el.textContent === texto);
    }

    function criarElementoTarefa(texto, concluida = false) {
      const nova = document.createElement("div");
      nova.className = "tarefa";
      if (concluida) nova.classList.add("concluida");
      nova.setAttribute("draggable", "true");
      nova.addEventListener("dragstart", () => tarefaAtual = nova);

      const span = document.createElement("span");
      span.textContent = texto;

      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.className = "checkbox";
      checkbox.checked = concluida;
      checkbox.onclick = () => {
        nova.classList.toggle("concluida");
        const destino = checkbox.checked ? "concluidas" : "pendentes";
        document.getElementById(destino).appendChild(nova);
        salvarTarefas();
      };

      const excluir = document.createElement("i");
      excluir.className = "fas fa-trash-alt";
      excluir.title = "Excluir tarefa";
      excluir.onclick = () => {
        nova.remove();
        salvarTarefas();
      };

      const acoes = document.createElement("div");
      acoes.className = "icone-acoes";
      acoes.appendChild(excluir);

      nova.appendChild(checkbox);
      nova.appendChild(span);
      nova.appendChild(acoes);
      return nova;
    }

    function soltarTarefa(e, destino) {
      e.preventDefault();
      if (!tarefaAtual) return;
      tarefaAtual.classList.toggle("concluida", destino === "concluidas");
      tarefaAtual.querySelector(".checkbox").checked = (destino === "concluidas");
      document.getElementById(destino).appendChild(tarefaAtual);
      tarefaAtual = null;
      salvarTarefas();
    }

    function salvarTarefas() {
      const dados = {};
      colunas.forEach(id => {
        dados[id] = [];
        document.querySelectorAll(`#${id} .tarefa`).forEach(tarefa => {
          dados[id].push({
            texto: tarefa.querySelector("span").textContent,
            concluida: tarefa.classList.contains("concluida")
          });
        });
      });
      localStorage.setItem("tarefas", JSON.stringify(dados));
    }

    function carregarTarefas() {
      const dados = JSON.parse(localStorage.getItem("tarefas"));
      if (!dados) return;
      colunas.forEach(id => {
        dados[id].forEach(t => {
          const nova = criarElementoTarefa(t.texto, t.concluida);
          document.getElementById(id).appendChild(nova);
        });
      });
    }

    function salvarNomes() {
      localStorage.setItem("nome1", document.getElementById("nome1").value);
      localStorage.setItem("nome2", document.getElementById("nome2").value);
    }

    function carregarNomes() {
      const n1 = localStorage.getItem("nome1");
      const n2 = localStorage.getItem("nome2");
      if (n1) document.getElementById("nome1").value = n1;
      if (n2) document.getElementById("nome2").value = n2;
    }

    window.onload = () => {
      carregarTarefas();
      carregarNomes();
    };
  </script>
</body>
</html>
